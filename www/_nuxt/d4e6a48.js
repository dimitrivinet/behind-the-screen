(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{274:function(e,t,n){var content=n(330);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(126).default)("4b4e5b62",content,!0,{sourceMap:!1})},309:function(e,t,n){var content=n(361);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(126).default)("771466d4",content,!0,{sourceMap:!1})},329:function(e,t,n){"use strict";n(274)},330:function(e,t,n){var r=n(125)(!1);r.push([e.i,".inputVideo[data-v-0ff5104a]{position:fixed;left:1rem;top:1rem;z-index:90;transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}",""]),e.exports=r},355:function(e,t,n){"use strict";n.r(t);var r=n(127),o=n(128),c=n(248),f=n(249),l=n(242),h=n(26),d=(n(66),n(15),n(243),n(362)),m=n.n(d),v=n(247),w=n(10),y=(n(55),n(409)),O=(n(408),n(328)),j=n(251);n(410),n(43);var R=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1280,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:720;Object(r.a)(this,e),this.inferenceFlag=!1,this.model=null,this.stats=t,this.width=o,this.height=c,Object(y.b)(y.a.mediapipeFacemesh).then((function(e){n.model=e}))}var t;return Object(o.a)(e,[{key:"start",value:function(e){var t,n=this,r=new O.Camera(e,{onFrame:(t=Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stats.begin(),!n.inferenceFlag){t.next=4;break}return t.next=4,n.runFrame({image:e});case 4:n.stats.end();case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),width:this.width,height:this.height});r.start()}},{key:"runFrame",value:(t=Object(w.a)(regeneratorRuntime.mark((function e(data){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.model){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.model.estimateFaces({input:data.image});case 4:t=e.sent,this.processFaces(t);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"processFaces",value:function(e){if(0!==e.length){var t=function(e){return{horizontal:{min:e.topLeft[0],max:e.bottomRight[0],center:(e.topLeft[0]+e.bottomRight[0])/2},vertical:{min:e.topLeft[1],max:e.bottomRight[1],center:(e.topLeft[1]+e.bottomRight[1])/2}}}(e[0].boundingBox),n=this.normalizeAnnotations(t.horizontal.center,this.width,5),r=-this.normalizeAnnotations(t.vertical.center,this.height,5);j.a.$emit("move-camera","roll",r),j.a.$emit("move-camera","pitch",n)}}},{key:"toggleInferenceFlag",value:function(){this.inferenceFlag=!this.inferenceFlag}},{key:"normalizeAnnotations",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=e-t/2;return r/=t/2,r/=n}}]),e}(),x=R;function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var F=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},_=function(e){Object(c.a)(n,e);var t=k(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).statsShown=!1,e.showPerformance=!1,e.showWebcam=!1,e.stats=new m.a,e.stats.showPanel(0),j.a.$on("show-performance",(function(){e.statsShown?document.body.removeChild(e.stats.dom):document.body.appendChild(e.stats.dom),e.statsShown=!e.statsShown})),e.irisRunner=new x(e.stats),j.a.$on("toggle-inference",(function(){e.toggleInference()})),j.a.$on("show-webcam",(function(){e.toggleShowWebcam()})),e}return Object(o.a)(n,[{key:"mounted",value:function(){this.irisRunner.start(this.$refs.inputVideo)}},{key:"toggleInference",value:function(){this.irisRunner.toggleInferenceFlag()}},{key:"toggleShowWebcam",value:function(){this.showWebcam=!this.showWebcam}}]),n}(v.d);F([Object(v.c)("toggleInference")],_.prototype,"toggleInferenceButton",void 0),F([Object(v.c)("inputVideo")],_.prototype,"inputVideo",void 0);var I=_=F([Object(v.a)({})],_),S=(n(329),n(41)),component=Object(S.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("video",{directives:[{name:"show",rawName:"v-show",value:e.showWebcam,expression:"showWebcam"}],ref:"inputVideo",staticClass:"inputVideo",attrs:{width:"640",height:"480"}})])}),[],!1,null,"0ff5104a",null);t.default=component.exports},360:function(e,t,n){"use strict";n(309)},361:function(e,t,n){var r=n(125)(!1);r.push([e.i,".main[data-v-c3887084]{height:95vh;margin:0;padding:0}",""]),e.exports=r},364:function(e,t){},365:function(e,t){},406:function(e,t){},463:function(e,t,n){"use strict";n.r(t);n(360);var r=n(41),component=Object(r.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("Iris"),e._v(" "),n("Scene")],1)}),[],!1,null,"c3887084",null);t.default=component.exports;installComponents(component,{Iris:n(355).default,Scene:n(461).default})}}]);