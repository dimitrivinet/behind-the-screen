(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(2).a)},460:function(e,t,n){var content=n(548);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(126).default)("694406fe",content,!0,{sourceMap:!1})},461:function(e,t,n){"use strict";n.r(t);var r=n(127),o=n(128),l=n(248),c=n(249),h=n(242),f=n(26),d=(n(66),n(15),n(243),n(247)),m=n(301);n(545);n(56),n(57),n(35),n(34),n(58),n(59),n(36);var y=n(10);n(55),n(44),n(27),n(172),n(546);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var w=function(){var e=Object(y.a)(regeneratorRuntime.mark((function e(t){var n,r,o,l,c,table,h,f,d,v,w,B,k,O,C,T,M,S,L,I,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N=function(){I.shadowGenerator=new m.ShadowGenerator(1024,r.dirLight),I.shadowGenerator.useBlurExponentialShadowMap=!0,I.shadowGenerator.blurBoxOffset=2,I.shadowGenerator.depthScale=0,I.shadowGenerator.addShadowCaster(c.glass),I.shadowGenerator.addShadowCaster(c.liquid),I.shadowGenerator.enableSoftTransparentShadow=!0,I.shadowGenerator.transparencyShadow=!0,table.mesh.receiveShadows=!0,table.mesh.material.environmentIntensity=.2},L=function(){return(L=Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.bottle=new m.NodeMaterial("sodaBottleMat",n,{emitComments:!1}),e.next=3,B.bottle.loadAsync("https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/shaders/glassShader.json");case 3:return B.bottle.build(!1),B.liquid=new m.NodeMaterial("sodaMat",n,{emitComments:!1}),e.next=7,B.liquid.loadAsync("https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/shaders/sodaShader.json");case 7:B.liquid.build(!1),B.glassLabels=B.bottle.clone("glassLabelsMat"),T.baseColor=B.bottle.getBlockByName("baseColorTex"),T.orm=B.bottle.getBlockByName("orm"),T.normal=B.bottle.getBlockByName("normalTex"),T.thickness=B.bottle.getBlockByName("thicknessTex"),T.maxThickness=B.bottle.getBlockByName("maxThickness"),T.glassTint=B.bottle.getBlockByName("glassTint"),T.fresnelColor=B.bottle.getBlockByName("fresnelColor"),T.translucency=B.bottle.getBlockByName("refractionInt"),T.glassAlphaSwitch=B.bottle.getBlockByName("alphaSwitch"),T.pbr=B.bottle.getBlockByName("PBRMetallicRoughness"),T.labelBaseColor=B.glassLabels.getBlockByName("baseColorTex"),T.labelOrm=B.glassLabels.getBlockByName("orm"),T.labelNormal=B.glassLabels.getBlockByName("normalTex"),T.labelThickness=B.glassLabels.getBlockByName("thicknessTex"),T.labelMaxThickness=B.glassLabels.getBlockByName("maxThickness"),T.labelGlassTint=B.glassLabels.getBlockByName("glassTint"),T.labelFresnelColor=B.glassLabels.getBlockByName("fresnelColor"),T.labelTranslucency=B.glassLabels.getBlockByName("refractionInt"),T.labelGlassAlphaSwitch=B.glassLabels.getBlockByName("alphaSwitch"),T.labelPbr=B.glassLabels.getBlockByName("PBRMetallicRoughness"),M.maxThickness=B.liquid.getBlockByName("maxThickness"),B.bottle.getAlphaTestTexture=function(){return k.baseColor},B.liquid.getAlphaTestTexture=function(){return O.baseColor},B.bottle.needDepthPrePass=!0,B.bottle.backFaceCulling=!1,B.glassLabels.forceDepthWrite=!0,c.glass.material=B.bottle,c.glassLabels.material=B.glassLabels,T.baseColor.texture=T.labelBaseColor.texture=k.baseColor,T.orm.texture=T.labelOrm.texture=k.orm,T.normal.texture=T.labelNormal.texture=k.normal,T.thickness.texture=T.labelThickness.texture=k.thickness,T.translucency.texture=T.labelTranslucency.texture=k.translucency,T.pbr.alphaTestCutoff=0,T.labelPbr.alphaTestCutoff=.999,T.glassAlphaSwitch.value=0,T.labelGlassAlphaSwitch.value=1,T.maxThickness.value=T.labelMaxThickness.value=5,T.glassTint.value=T.labelGlassTint.value=new m.Color3.FromHexString("#aaaaaa"),c.liquid.material=B.liquid,M.maxThickness.value=1.5;case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)},S=function(){return L.apply(this,arguments)},C=function(e){k.baseColor=c.glass.material.albedoTexture,k.orm=c.glass.material.metallicTexture,k.normal=c.glass.material.bumpTexture,k.thickness=w("sodaBottleMat","thickness",e),k.translucency=w("sodaBottleMat","translucency",e),O.baseColor=c.liquid.material.albedoTexture,O.orm=c.liquid.material.metallicTexture,O.normal=c.liquid.material.bumpTexture,O.thickness=w("sodaMat","thickness",e),c.glass.material.dispose(),c.liquid.material.dispose()},f=function(){return(f=Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.SceneLoader.AppendAsync("https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/gltf/sodaBottle.gltf");case 2:return c.file=e.sent,c.glass=n.getMeshByName("sodaBottle_low"),c.liquid=n.getMeshByName("soda_low"),c.root=c.glass.parent,c.glass.alphaIndex=2,c.liquid.alphaIndex=1,c.glassLabels=c.glass.clone("glassLabels"),c.glassLabels.alphaIndex=0,e.next=12,m.SceneLoader.AppendAsync("https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/gltf/table.gltf");case 12:table.file=e.sent,table.mesh=n.getMeshByName("table_low"),c.root.position=new m.Vector3(-.09,0,-.09),c.root.rotation=new m.Vector3(0,4,0),r.dirLight.includedOnlyMeshes.push(table.mesh);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(){return f.apply(this,arguments)},l=function(){o.lighting=m.CubeTexture.CreateFromPrefilteredData("https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/env/hamburg_hbf.env",n),o.lighting.name="hamburg_hbf",o.lighting.gammaSpace=!1,o.lighting.rotationY=m.Tools.ToRadians(0),n.environmentTexture=o.lighting,o.skybox=m.MeshBuilder.CreateBox("skyBox",{size:1e3},n),o.skyboxMaterial=new m.StandardMaterial("skyBox",n),o.skyboxMaterial.backFaceCulling=!1,o.skyboxMaterial.reflectionTexture=new m.CubeTexture("https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/skybox/hamburg",n),o.skyboxMaterial.reflectionTexture.coordinatesMode=m.Texture.SKYBOX_MODE,o.skyboxMaterial.diffuseColor=new m.Color3(0,0,0),o.skyboxMaterial.specularColor=new m.Color3(0,0,0),o.skybox.material=o.skyboxMaterial,r.dirLight=new m.DirectionalLight("dirLight",new m.Vector3(.6,-.7,.63),n),r.dirLight.position=new m.Vector3(-.05,.35,-.05),r.dirLight.shadowMaxZ=.45,r.dirLight.intensity=10},n=new m.Scene(t),t.displayLoadingUI(),r={},o={},c={},table={},d=function(){var e=[];return new Promise((function(t,r){for(var o=0,l=["https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/gltf/sodaBottleMat_thickness.png","https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/gltf/sodaMat_thickness.png","https://patrickryanms.github.io/BabylonJStextures/Demos/sodaBottle/assets/gltf/sodaBottleMat_translucency.png"];o<l.length;o++){var c=l[o];e.push(new m.Texture(c,n,!1,!1))}v(e,(function(){return t(e)}))})).then((function(){C(e)}))},v=function(e,t){var n=e.length;if(0!==n)for(var i=0;i<e.length;i++){var r=e[i];if(r.isReady()){if(0==--n)return void t()}else{var o=r.onLoadObservable;o&&o.addOnce((function(){0==--n&&t()}))}}else t()},w=function(e,t,n){var r,o=x(n);try{for(o.s();!(r=o.n()).done;){var l=r.value,c=l.name.split("/");if(c[c.length-1].split("_")[0]===e&&c[c.length-1].split("_")[1]===t+".png")return l}}catch(e){o.e(e)}finally{o.f()}},B={},k={},O={},m.NodeMaterial.IgnoreTexturesAtLoadTime=!0,T={},M={},I={},l(),e.next=26,h();case 26:return e.next=28,d();case 28:return e.next=30,S();case 30:return N(),e.abrupt("return",n);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function B(){return(B=Object(y.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){function e(t){var n=this;Object(r.a)(this,e),this.renderCanvas=t,this.engine=new m.Engine(this.renderCanvas,!0,{preserveDrawingBuffer:!0,stencil:!0}),this.engine.setHardwareScalingLevel(1/window.devicePixelRatio),this.scenes=[];var o,l,c=(o=this.engine,l=new m.Scene(o),new m.HemisphericLight("light1",new m.Vector3(0,1,0),l),m.Mesh.CreateSphere("sphere1",16,2,l,!1,m.Mesh.FRONTSIDE).position.y=1,m.Mesh.CreateGround("ground1",6,6,2,l,!1),l);this.scenes.push({scene:c,offsets:{positionOffsetX:0,positionOffsetY:5,rotationOffsetX:0,rotationOffsetY:0}}),this.sceneIndex=0,this.camera=new m.FreeCamera("camera1",new m.Vector3(0,5,-10),this.scenes[this.sceneIndex].scene),this.camera.speed=.01,this.camera.inverseRotationSpeed=.01,this.camera.setTarget(m.Vector3.Zero()),this.camera.attachControl(this.renderCanvas,!1);var h=function(e){var t=new m.Scene(e);new m.HemisphericLight("light",new m.Vector3(0,1,0),t).intensity=.7;var n=m.MeshBuilder.CreateBox("box",{diameter:2,segments:32},t);n.position.y=5,n.position.z=-10,m.MeshBuilder.CreateGround("ground",{width:1e3,height:1e3},t);var r=m.Mesh.CreateBox("box1",5,t);r.rotation.x=Math.PI/3,r.position.y-=1;for(var o=[],l=0;l<11;l++)for(var c=0;c<11;c++){var h=m.MeshBuilder.CreateBox("box",{width:4.9,height:4.9,depth:4.9},t);h.position.x=6*(l-5),h.position.y=5+5*c,h.position.z=100,o.push(h)}return t}(this.engine);this.scenes.push({scene:h,offsets:{positionOffsetX:0,positionOffsetY:5,rotationOffsetX:0,rotationOffsetY:0}}),function(e){return B.apply(this,arguments)}(this.engine).then((function(e){n.scenes.push({scene:e,offsets:{positionOffsetX:0,positionOffsetY:5,rotationOffsetX:0,rotationOffsetY:0}})}))}return Object(o.a)(e,[{key:"start",value:function(){var e=this;this.engine.runRenderLoop((function(){e.scenes[e.sceneIndex].scene.render()}));var t=this.engine;window.addEventListener("resize",(function(){t.resize()}))}},{key:"moveCamera",value:function(e,t){switch(e){case"x":this.camera.position.x=t+this.scenes[this.sceneIndex].offsets.positionOffsetX;break;case"y":this.camera.position.y=t+this.scenes[this.sceneIndex].offsets.positionOffsetX;break;case"z":case"yaw":default:break;case"roll":this.camera.rotation.x=t+this.scenes[this.sceneIndex].offsets.rotationOffsetX;break;case"pitch":this.camera.rotation.y=t+this.scenes[this.sceneIndex].offsets.rotationOffsetY}}},{key:"showDebug",value:function(){this.scenes[this.sceneIndex].scene.debugLayer.show()}},{key:"hideDebug",value:function(){this.scenes[this.sceneIndex].scene.debugLayer.hide()}},{key:"calibrate",value:function(){this.scenes[this.sceneIndex].offsets.positionOffsetX=this.camera.position.x,this.scenes[this.sceneIndex].offsets.positionOffsetY=this.camera.position.y,this.scenes[this.sceneIndex].offsets.rotationOffsetX=this.camera.rotation.x,this.scenes[this.sceneIndex].offsets.rotationOffsetY=this.camera.rotation.y,console.log("calibrated")}},{key:"nextScene",value:function(){this.sceneIndex+=1,this.sceneIndex=this.sceneIndex%this.scenes.length,this.camera=new m.FreeCamera("camera1",new m.Vector3(0,5,-10),this.scenes[this.sceneIndex].scene),this.camera.speed=.01,this.camera.inverseRotationSpeed=.01,this.camera.setTarget(m.Vector3.Zero()),this.camera.attachControl(this.renderCanvas,!1),this.camera.position.x=this.scenes[this.sceneIndex].offsets.positionOffsetX,this.camera.position.y=this.scenes[this.sceneIndex].offsets.positionOffsetX,this.camera.rotation.x=this.scenes[this.sceneIndex].offsets.positionOffsetX,this.camera.rotation.y=this.scenes[this.sceneIndex].offsets.positionOffsetX}}]),e}(),O=n(251);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var T=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},M=function(e){Object(l.a)(n,e);var t=C(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"mounted",value:function(){var e=this;this.babylonManager=new k(this.renderCanvas),this.babylonManager.start(),O.a.$on("move-camera",(function(t,n){e.babylonManager.moveCamera(t,n)})),O.a.$on("calibrate",(function(){e.babylonManager.calibrate()})),O.a.$on("change-scene",(function(){e.babylonManager.nextScene()}))}}]),n}(d.d);T([Object(d.c)("render_canvas")],M.prototype,"renderCanvas",void 0);var S=M=T([Object(d.a)({})],M),L=(n(547),n(41)),component=Object(L.a)(S,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"canvas-container"},[t("canvas",{ref:"render_canvas",attrs:{id:"renderCanvas"}})])}),[],!1,null,"7a08af01",null);t.default=component.exports},547:function(e,t,n){"use strict";n(460)},548:function(e,t,n){var r=n(125)(!1);r.push([e.i,".canvas-container[data-v-7a08af01]{height:100%;width:100%;display:flex;flex-direction:row;justify-content:center}#renderCanvas[data-v-7a08af01]{touch-action:none;height:100%;width:100%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}",""]),e.exports=r}}]);